"use strict";$(document).ready(function(){var a,e=$(window).width(),t=!1,i=$(".page-header"),n=!0;function r(){$(document).height()>$(window).height()&&(($("html").scrollTop()?$("html"):$("body")).scrollTop(),$("html").addClass("disable-scrolling"))}function c(){parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling")}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(n=!1,$("html").removeClass("is-observer")),n&&(a=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),a.unobserve(t.target))})},{rootMargin:"0px 0px -15% 0px"})),function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return 1;var t=["(",t.join("touch-enabled),("),"heartz",")"].join("");return t=t,window.matchMedia(t).matches}()&&$("html").addClass("is-touch");var o,s,d,l,u,h,f,p,_=function(a,i,n){for(var o,t=arguments.length,s=new Array(3<t?t-3:0),e=3;e<t;e++)s[e-3]=arguments[e];return function(){var t=this,e=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||a.apply(t,s)},i),e&&a.apply(t,s)}}(function(){var t=$(window).width();w(),v(),g(),y(),b(),C(),m(),e!==t&&(e=t)},500);function w(){var t=$(".header__hamburger"),e=$(".fly-out-nav"),a=$(".fly-out-nav__close"),i=$(".fly-out-nav__collections a"),n=$(".fly-out-collection"),o=($(".js-header-product-image"),$(".fly-out-collection__items a")),s=$(".fly-out-collection__back");t.on("click",function(){e.addClass("active"),r()}),a.on("click",function(){e.removeClass("active"),n.each(function(){$(this).removeClass("active")}),c()}),i.on("mouseenter",function(){var t=$(this).attr("data-collection");n.each(function(){$(this).attr("data-collection")==t?$(this).addClass("active"):$(this).removeClass("active")})}),o.on("mouseenter",function(){var t=$(this).find("img").attr("src");$(this).parent().parent().find(".js-header-product-image").attr("src",t)}),s.on("click",function(){n.each(function(){$(this).removeClass("active")})})}function v(){new Swiper(".home-featured-product__inner",{slidesPerView:1.25,speed:400,spaceBetween:7,navigation:{prevEl:".home-featured-product__nav .slidePrev-btn",nextEl:".home-featured-product__nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.45,spaceBetween:7},600:{slidesPerView:1.75,spaceBetween:7},800:{slidesPerView:1.25,spaceBetween:70},1100:{slidesPerView:2.25,spaceBetween:70},1300:{slidesPerView:2.5,spaceBetween:70},1500:{slidesPerView:2.75,spaceBetween:70},1700:{slidesPerView:3.1,spaceBetween:70}}})}function m(){var t=$(".home-hero__right"),e=$(".home-hero__left").outerHeight()+60;$(window).width()<768&&t.css("height","calc(100vh - ".concat(e,"px)"))}function g(){var t=$(".scrolling-animation"),e=1280<=$(window).width()?"0% 35%":"-20px 0%";gsap.timeline({scrollTrigger:{trigger:t,start:e,end:"450% 0%",pin:!0,scrub:!0}}).to(".scrolling-animation__copy-one",{opacity:0},1).to(".scrolling-animation__image-one",{opacity:0},1).to(".scrolling-animation__image-two",{opacity:1},1).to(".scrolling-animation__copy-two",{opacity:1},1).to(".scrolling-animation__num-one",{backgroundColor:"#fff"},1).to(".scrolling-animation__num-two",{backgroundColor:"#00e132"},1).to(".scrolling-animation__image-two",{opacity:0},2).to(".scrolling-animation__copy-two",{opacity:0},2).to(".scrolling-animation__image-three",{opacity:1},2).to(".scrolling-animation__copy-three",{opacity:1},2).to(".scrolling-animation__num-two",{backgroundColor:"#fff"},2).to(".scrolling-animation__num-three",{backgroundColor:"#00e132"},2).to(".scrolling-animation__image-three",{opacity:0},3).to(".scrolling-animation__copy-three",{opacity:0},3).to(".scrolling-animation__image-four",{opacity:1},3).to(".scrolling-animation__copy-four",{opacity:1},3).to(".scrolling-animation__num-three",{backgroundColor:"#fff"},3).to(".scrolling-animation__num-four",{backgroundColor:"#00e132"},3)}function y(){var t=$(window).width(),t=($(".scrolling-ticker"),1024<=t?6:3);new Swiper(".scrolling-ticker",{loop:!0,autoplay:{delay:1,disableOnInteraction:!1},simulateTouch:!1,slidesPerView:t,speed:4e3})}function b(){var t=1024<=$(window).width()?2:1;new Swiper(".home-reviews",{slidesPerView:t,loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{prevEl:".home-reviews__nav .slidePrev-btn",nextEl:".home-reviews__nav .slideNext-btn"}})}function C(){$(".featured-blogs__slider").each(function(t){new Swiper("#featured-blogs__slider-"+(t+1),{slidesPerView:1.2,spaceBetween:27,breakpoints:{400:{slidesPerView:1.2},800:{slidesPerView:1.5},1100:{slidesPerView:2}},navigation:{prevEl:"#featured-blogs__prev-"+(t+1),nextEl:"#featured-blogs__next-"+(t+1)}})})}function k(t,e){$.ajax({type:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},url:"/cart/change.js",dataType:"json",data:{id:t,quantity:e},success:x,error:j})}function x(){$(".cart-drawer").addClass("active"),I(),$(".loader").fadeOut()}function j(){console.log(" not okay!"),$(".loader").fadeOut(),$(".toast").addClass("active"),setTimeout(function(){$(".toast").removeClass("active")},3e3)}function I(){$(".cart-drawer__header svg").on("click",function(){$(".cart-drawer").removeClass("active")}),jQuery.getJSON("/cart.js",function(t){!function(t){t.items.length?($(".cart-drawer__items").empty(),$(".cart-drawer__checkout").show(),$(t.items).each(function(){$(".cart-drawer__items").append('\n            <div class="cart-drawer__item">\n              <div class="cart-drawer__item-left">\n                <img src="'.concat(this.image,'" alt="">\n                <p class="body-small js-cart-drawer__remove" data-variant-id="').concat(this.variant_id,'">Remove</p>\n              </div>\n              <div class="cart-drawer__item-right">\n                <h3 class="body-bold">').concat(this.product_title,'</h3>\n                <h4 class="body-small">£').concat(this.final_price/100,'</h4>\n                <h5 class="body-small">').concat(this.variant_options[0],'</h5>\n                <h5 class="body-small">').concat(this.variant_options[1],'</h5>\n                <div class="cart-drawer__qty-selector-wrap">\n                  <div class="cart-drawer__qty-selector-copy">\n                    <p class="body-small">Qty.</p>\n                  </div>\n                  <div class="cart-drawer__qty-selector">\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-minus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="2" viewBox="0 0 14 2" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="1" x2="13" y2="0.999999" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                    <p>').concat(this.quantity,'</p>\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-plus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="7" x2="13" y2="7" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                        <line x1="7" y1="1" x2="7" y2="13" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>     \n            '))})):($(".cart-drawer__checkout").hide(),$(".cart-drawer__items").empty(),$(".cart-drawer__items").append('<p class="body-bold" style="margin-top: 20px">Nothing in your bag</p>'));console.log(t.item_count),t.item_count?$(".header__cart-total").each(function(){$(this).text(t.item_count)}):$(".header__cart-total").each(function(){$(this).text("")});$(".js-cart-drawer-total").text("£"+t.total_price/100);var e=$(".js-cart-drawer__qty-minus"),a=$(".js-cart-drawer__qty-plus"),i=$(".js-cart-drawer__remove");e.on("click",function(){k(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))-1),$(".loader").fadeIn()}),a.on("click",function(){k(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))+1),$(".loader").fadeIn()}),i.on("click",function(){k(parseInt($(this).attr("data-variant-id")),0),$(".loader").fadeIn()})}(t)})}function P(e){$(".filter-results__wrap").show(),$(".digest-featured").hide(),l.each(function(){$(this).attr("data-handle")==e&&$(this).addClass("active")}),u.each(function(){var t;$(this).attr("data-handle")==e?(t=this,setTimeout(function(){$(t).fadeIn()},500)):$(this).fadeOut()})}$(".hamburger").on("click",function(){t?(i.removeClass("is-opened"),c()):(i.addClass("is-opened"),r()),t=!t}),document.body.addEventListener("mousedown",function(){document.body.classList.remove("is-tab")}),document.body.addEventListener("keydown",function(t){"Tab"===t.key&&document.body.classList.add("is-tab")}),w(),v(),g(),m(),y(),b(),new Swiper(".featured-blog__inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".featured-blog .slidePrev-btn",nextEl:".featured-blog .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:1.7,spaceBetween:90},1500:{slidesPerView:1.7,spaceBetween:90},1700:{slidesPerView:2,spaceBetween:90}}}),function(){var a=$(".header");$(".js-open-cart").on("click",function(){$(".cart-drawer").addClass("active")});var i=0;$(window).scroll(function(t){var e=$(this).scrollTop();i<e?$(a).css("transform","translate(0px, -120px)"):$(a).css("transform","translate(0px, 0px)"),(i=e)<100&&$(a).css("transform","translate(0px, 0px)")})}(),function(){var t=$(".footer__column-menu-header"),e=$(".footer__column ul"),a=$(".footer-banner svg");t.on("click",function(){$(this).parent().find("ul").hasClass("active")?$(this).parent().find("ul").removeClass("active"):(e.each(function(){$(this).removeClass("active")}),$(this).parent().find("ul").addClass("active"))}),a.on("click",function(){$(this).parent().hide()});var i=$(".footer-banner--animation p"),n=i.length,o=0;i.eq(0).fadeIn(),setInterval(function(){n<=o&&i.eq(o-1).fadeOut(function(){o=0,i.eq(o).fadeIn()});i.eq(o-1).fadeOut(function(){i.eq(o).fadeIn(),o++})},4e3)}(),s=$(".digest-search__search svg"),d=$(".digest-search__search"),l=$(".digest-search__filter-item"),u=$(".filter-results"),h=$(".digest-search__search input"),$(".article-grid__item"),f=$(".search-results"),s.on("click",function(){$(".digest-search__filter").hide(),$(".filter-results__wrap").show(),$(".digest-featured").hide(),d.addClass("active"),u.each(function(){$(this).fadeOut()}),f.fadeIn(),l.each(function(){$(this).removeClass("active")}),$(document).on("mouseup",function(t){d.is(t.target)||0!==d.has(t.target).length||($(".digest-search__filter").show(),d.removeClass("active"),f.fadeOut(),$(".filter-results__wrap").hide(),$(".digest-featured").show(),$(this).unbind("mouseup"))})}),h.on("keyup",function(){var a=$(this).val().toLowerCase(),i=!1;$(".filter-results__wrap").show(),f.each(function(){var t=$(this).find(".article-grid__item"),e=!1;t.each(function(){$(this).find("h3").text().toLowerCase().includes(a)?($(this).show(),i=e=!0):$(this).hide()}),e?$(this).show():$(this).hide()}),i?$(".js-no-results").hide():($(".js-no-results").text("Sorry - no results found for "+a),$(".js-no-results").show())}),$(location).attr("href").toString().includes("page=")?(h=localStorage.getItem("blogtype"),o=$(location).attr("href").split("?")[0],$(".digest-featured").hide(),P(h),l.on("click",function(){window.location.href=o})):localStorage.setItem("blogtype",""),localStorage.getItem("blogtype")&&P(localStorage.getItem("blogtype")),l.on("click",function(){var e;localStorage.setItem("blogtype",$(this).attr("data-handle")),$(this).hasClass("active")?($(this).removeClass("active"),u.each(function(){$(this).hide()}),$(".filter-results__wrap").hide(),$(".digest-featured").show()):(l.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),e=$(this).attr("data-handle"),$(".filter-results__wrap").show(),$(".digest-featured").hide(),u.each(function(){var t;$(this).attr("data-handle")==e?(t=this,setTimeout(function(){$(t).fadeIn()},500)):$(this).fadeOut()}))}),C(),(p=$(".product-card__item")).each(function(){function t(){n="";var t=!1;a.each(function(){var t=$("option:selected",this).val();n+=t}),i.each(function(){$(this).attr("data-title").replace(/\s+|[\/]/g,"")==n.replace(/\s+|[\/]/g,"")&&(o.attr("disabled",!1),o.attr("data-variant-id",$(this).attr("data-id")),o.find("p").text("Add to Your Cart - "+$(this).attr("data-price")),t=!0)}),t||(o.find("p").text("Sorry - Out of Stock"),o.attr("disabled",!0))}var e,a,i,n,o;e=this,a=$(e).find(".product-card__product-options select"),i=$(e).find(".js-variant"),n="",o=$(e).find(".js-product-card-add-to-cart"),t(),a.on("change",function(){t()}),o.on("click",function(){var t,e=$(this).attr("data-variant-id");t=e,e=1,$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:{items:[{id:t,quantity:e}]},success:x,error:j}),$(".loader").fadeIn()})}),p.on("mouseenter",function(){$(this).find(".btn").addClass("active"),$(this).find(".product-card__product-options").addClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").removeClass("active"),$(this).find(".js-product-second-image").addClass("active"))}),p.on("mouseleave",function(){$(this).find(".btn").removeClass("active"),$(this).find(".product-card__product-options").removeClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").addClass("active"),$(this).find(".js-product-second-image").removeClass("active"))}),I(),n&&$(".js-visibility").each(function(t,e){a.observe(e)}),$(window).on("scroll",function(){}),$(window).on("load",function(){}),$(window).on("resize",_)});