"use strict";$(document).ready(function(){var i,t=$(window).width(),e=!1,a=$(".page-header"),n=!0;function r(){$(document).height()>$(window).height()&&(($("html").scrollTop()?$("html"):$("body")).scrollTop(),$("html").addClass("disable-scrolling"))}function c(){parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling")}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(n=!1,$("html").removeClass("is-observer")),n&&(i=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("is-visible"),i.unobserve(e.target))})},{rootMargin:"0px 0px -15% 0px"})),function(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return 1;var e=["(",e.join("touch-enabled),("),"heartz",")"].join("");return e=e,window.matchMedia(e).matches}()&&$("html").addClass("is-touch");var s,o,d,l,p,u,h,w,_,v,f,m,g,y,b,k,C,x,P,j,V,B,q,I,E,T,O=function(i,a,n){for(var s,e=arguments.length,o=new Array(3<e?e-3:0),t=3;t<e;t++)o[t-3]=arguments[t];return function(){var e=this,t=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||i.apply(e,o)},a),t&&i.apply(e,o)}}(function(){var e=$(window).width();S(),D(),N(),M(),A(),H(),L(),t!==e&&(t=e)},500);function S(){var e=$(".header__hamburger"),t=$(".fly-out-nav"),i=$(".fly-out-nav__close"),a=$(".fly-out-nav__collections a"),n=$(".fly-out-collection"),s=($(".js-header-product-image"),$(".fly-out-collection__items a")),o=$(".fly-out-collection__back");e.on("click",function(){t.addClass("active"),r()}),i.on("click",function(){t.removeClass("active"),n.each(function(){$(this).removeClass("active")}),c()}),a.on("mouseenter",function(){var e=$(this).attr("data-collection");n.each(function(){$(this).attr("data-collection")==e?$(this).addClass("active"):$(this).removeClass("active")})}),s.on("mouseenter",function(){var e=$(this).find("img").attr("src");$(this).parent().parent().find(".js-header-product-image").attr("src",e)}),o.on("click",function(){n.each(function(){$(this).removeClass("active")})})}function D(){new Swiper(".home-featured-product__inner",{slidesPerView:1.25,speed:400,spaceBetween:7,navigation:{prevEl:".home-featured-product__nav .slidePrev-btn",nextEl:".home-featured-product__nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.45,spaceBetween:7},600:{slidesPerView:1.75,spaceBetween:7},800:{slidesPerView:1.25,spaceBetween:70},1100:{slidesPerView:2.25,spaceBetween:70},1300:{slidesPerView:2.5,spaceBetween:70},1500:{slidesPerView:2.75,spaceBetween:70},1700:{slidesPerView:3.1,spaceBetween:70}}})}function L(){var e=$(".home-hero__right"),t=$(".home-hero__left").outerHeight()+60;$(window).width()<768&&e.css("height","calc(100vh - ".concat(t,"px)"))}function N(){var e=$(".scrolling-animation"),t=1280<=$(window).width()?"0% 35%":"-20px 0%";gsap.timeline({scrollTrigger:{trigger:e,start:t,end:"450% 0%",pin:!0,scrub:!0}}).to(".scrolling-animation__copy-one",{opacity:0},1).to(".scrolling-animation__image-one",{opacity:0},1).to(".scrolling-animation__image-two",{opacity:1},1).to(".scrolling-animation__copy-two",{opacity:1},1).to(".scrolling-animation__num-one",{backgroundColor:"#fff"},1).to(".scrolling-animation__num-two",{backgroundColor:"#00e132"},1).to(".scrolling-animation__image-two",{opacity:0},2).to(".scrolling-animation__copy-two",{opacity:0},2).to(".scrolling-animation__image-three",{opacity:1},2).to(".scrolling-animation__copy-three",{opacity:1},2).to(".scrolling-animation__num-two",{backgroundColor:"#fff"},2).to(".scrolling-animation__num-three",{backgroundColor:"#00e132"},2).to(".scrolling-animation__image-three",{opacity:0},3).to(".scrolling-animation__copy-three",{opacity:0},3).to(".scrolling-animation__image-four",{opacity:1},3).to(".scrolling-animation__copy-four",{opacity:1},3).to(".scrolling-animation__num-three",{backgroundColor:"#fff"},3).to(".scrolling-animation__num-four",{backgroundColor:"#00e132"},3)}function M(){var e=$(window).width(),e=($(".scrolling-ticker"),1024<=e?6:3);new Swiper(".scrolling-ticker",{loop:!0,autoplay:{delay:1,disableOnInteraction:!1},simulateTouch:!1,slidesPerView:e,speed:4e3})}function A(){var e=1024<=$(window).width()?2:1;new Swiper(".home-reviews",{slidesPerView:e,loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{prevEl:".home-reviews__nav .slidePrev-btn",nextEl:".home-reviews__nav .slideNext-btn"}})}function H(){$(".featured-blogs__slider").each(function(e){new Swiper("#featured-blogs__slider-"+(e+1),{slidesPerView:1.2,spaceBetween:27,breakpoints:{400:{slidesPerView:1.2},800:{slidesPerView:1.5},1100:{slidesPerView:2}},navigation:{prevEl:"#featured-blogs__prev-"+(e+1),nextEl:"#featured-blogs__next-"+(e+1)}})})}function Y(e){var t=$(e).find(".js-product-varient-select"),i=$(e).find(".js-variant"),a="",n=$(e).find(".js-product-card-add-to-cart");function s(){a="";var e=!1;console.log("updating vars?"),t.length&&(t.each(function(){var e=$("option:selected",this).val();a+=e;var t=$("option:selected",this).attr("data-color"),i=$("option:selected",this).val().length,e=$(this).parent().find(".product-card__product-options-colour");t?($(e).show(),$(e).css("background-color",t),$(e).css({"background-color":t,left:"".concat(12*i,"px")})):$(e).hide()}),i.each(function(){var t,i;$(this).attr("data-title").replace(/\s+|[\/]/g,"")==a.replace(/\s+|[\/]/g,"")&&(n.attr("disabled",!1),n.attr("data-variant-id",$(this).attr("data-id")),n.find("p").text("Add to Your Cart - "+$(this).attr("data-price")),t=$(this).attr("data-image"),e=!0,$(".product-template__right").length&&(i=new Swiper(".product-template__right",{slidesPerView:1.25,spaceBetween:19,navigation:{prevEl:".product-template__slider-arrows .slidePrev-btn",nextEl:".product-template__slider-arrows .slideNext-btn"},breakpoints:{600:{slidesPerView:2.25,spaceBetween:20},900:{slidesPerView:1.1,spaceBetween:20},1200:{slidesPerView:1.65,spaceBetween:70},1700:{slidesPerView:2.55,spaceBetween:70}}}),$(".swiper-slide").each(function(e){t==$(this).find("img").attr("src")&&i.slideTo(e)})))}),e||(n.find("p").text("Sorry - Out of Stock"),n.attr("disabled",!0)))}s(),t.on("change",function(){s()}),n.on("click",function(){var e=$(this).attr("data-variant-id"),t=$(this).attr("data-selling-plan-id"),i=$(this).attr("data-quantity")?$(this).attr("data-quantity"):1;e=e,i=i,t=t,$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:{items:[{id:e,quantity:i,selling_plan:t}]},success:R,error:X}),$(".loader").fadeIn()})}function z(e,t){$.ajax({type:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},url:"/cart/change.js",dataType:"json",data:{id:e,quantity:t},success:R,error:X})}function R(){$(".cart-drawer").addClass("active"),Q()}function X(){console.log(" not okay!"),$(".loader").fadeOut(),$(".toast").addClass("active"),setTimeout(function(){$(".toast").removeClass("active")},3e3)}function Q(){$(".cart-drawer__header svg").on("click",function(){$(".cart-drawer").removeClass("active")}),jQuery.getJSON("/cart.js",function(e){!function(e){e.items.length?($(".cart-drawer__items").empty(),$(".cart-drawer__checkout").show(),$(e.items).each(function(){$(".cart-drawer__items").append('\n            <div class="cart-drawer__item">\n              <div class="cart-drawer__item-left">\n                <a href="'.concat(this.url,'">\n                  <img src="').concat(this.image,'" alt="">\n                </a>\n                <p class="body-small js-cart-drawer__remove" data-variant-id="').concat(this.variant_id,'">Remove</p>\n              </div>\n              <div class="cart-drawer__item-right">\n                <h3 class="body-bold">').concat(this.product_title,'</h3>\n                <h4 class="body-small">£').concat(this.final_price/100,"</h4>")+(this.variant_options[0]?'<h5 class="body-small">'.concat(this.variant_options[0],"</h5>"):"")+(this.variant_options[1]?'<h5 class="body-small">'.concat(this.variant_options[1],"</h5>"):"")+(this.variant_options[2]?'<h5 class="body-small">'.concat(this.variant_options[2],"</h5>"):"")+(this.selling_plan_allocation?'\n                <div style="display: flex; " >\n                  <svg style="margin-right: 10px; margin-top: 3px" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <g opacity="0.5">\n                    <path d="M17.0004 2.17969V6.54332H12.6367" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M1 13.816V9.45239H5.36364" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M2.82545 5.81577C3.1943 4.77343 3.82119 3.84152 4.64761 3.10699C5.47404 2.37245 6.47307 1.85924 7.55148 1.61523C8.6299 1.37123 9.75255 1.40438 10.8147 1.71161C11.8768 2.01883 12.8438 2.59011 13.6255 3.37214L17 6.54305M1 9.45214L4.37455 12.623C5.15618 13.4051 6.12318 13.9764 7.18532 14.2836C8.24745 14.5908 9.3701 14.624 10.4485 14.3799C11.5269 14.1359 12.526 13.6227 13.3524 12.8882C14.1788 12.1537 14.8057 11.2217 15.1745 10.1794" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    </g>\n                  </svg>                 \n                  <h5 class="body-small">'.concat(this.selling_plan_allocation.selling_plan.name,"</h5>\n                </div>\n                "):"")+'<div class="cart-drawer__qty-selector-wrap">\n                  <div class="cart-drawer__qty-selector-copy">\n                    <p class="body-small">Qty.</p>\n                  </div>\n                  <div class="cart-drawer__qty-selector">\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-minus" data-variant-id="'.concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="2" viewBox="0 0 14 2" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="1" x2="13" y2="0.999999" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                    <p>').concat(this.quantity,'</p>\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-plus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="7" x2="13" y2="7" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                        <line x1="7" y1="1" x2="7" y2="13" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>     \n            '))})):($(".cart-drawer__checkout").hide(),$(".cart-drawer__items").empty(),$(".cart-drawer__items").append('<p class="body-bold" style="margin-top: 20px">Nothing in your bag</p>')),$(".loader").fadeOut();e.item_count?$(".header__cart-total").each(function(){$(this).text(e.item_count)}):$(".header__cart-total").each(function(){$(this).text("")});$(".js-cart-drawer-total").text("£"+e.total_price/100);var t=$(".js-cart-drawer__qty-minus"),i=$(".js-cart-drawer__qty-plus"),a=$(".js-cart-drawer__remove");t.on("click",function(){z(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))-1),$(".loader").fadeIn()}),i.on("click",function(){z(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))+1),$(".loader").fadeIn()}),a.on("click",function(){z(parseInt($(this).attr("data-variant-id")),0),$(".loader").fadeIn()})}(e)})}$(".hamburger").on("click",function(){e?(a.removeClass("is-opened"),c()):(a.addClass("is-opened"),r()),e=!e}),document.body.addEventListener("mousedown",function(){document.body.classList.remove("is-tab")}),document.body.addEventListener("keydown",function(e){"Tab"===e.key&&document.body.classList.add("is-tab")}),S(),D(),N(),L(),M(),A(),new Swiper(".featured-blog__inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".featured-blog .slidePrev-btn",nextEl:".featured-blog .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:1.7,spaceBetween:90},1500:{slidesPerView:1.7,spaceBetween:90},1700:{slidesPerView:2,spaceBetween:90}}}),function(){var i=$(".header"),e=$(".js-open-cart"),t=$(".header__right-search-icon"),a=$(".header__right-search-input");t.on("mouseenter",function(){console.log("entered"),a.addClass("active")}),t.on("mouseleave",function(){console.log("entered"),a.removeClass("active")}),e.on("click",function(){$(".cart-drawer").addClass("active")});var n=0;$(window).scroll(function(e){var t=$(this).scrollTop();n<t?$(i).css("transform","translate(0px, -120px)"):$(i).css("transform","translate(0px, 0px)"),(n=t)<100&&$(i).css("transform","translate(0px, 0px)")})}(),function(){var e=$(".footer__column-menu-header"),t=$(".footer__column ul"),i=$(".footer-banner svg");e.on("click",function(){$(this).parent().find("ul").hasClass("active")?$(this).parent().find("ul").removeClass("active"):(t.each(function(){$(this).removeClass("active")}),$(this).parent().find("ul").addClass("active"))}),i.on("click",function(){$(this).parent().hide()});var a=$(".footer-banner--animation p"),n=a.length,s=0;a.eq(0).fadeIn(),setInterval(function(){n<=s&&a.eq(s-1).fadeOut(function(){s=0,a.eq(s).fadeIn()});a.eq(s-1).fadeOut(function(){a.eq(s).fadeIn(),s++})},4e3)}(),s=$(".digest-search__search svg"),o=$(".digest-search__search"),d=$(".digest-search__filter-item"),l=$(".filter-results"),p=$(".digest-search__search input"),$(".article-grid__item"),u=$(".search-results"),h=$(location).attr("href").split("/"),w=h[h.length-1],_=$(".digest-filter__filters-wrap a"),v=$(".digest-filter"),w.includes("?")&&(w=w.split("?")[0]),_.on("click",function(e){$(this).hasClass("active")&&(e.preventDefault(),window.location.href=h[0]+"//"+h[2]+"/"+h[3]+"/"+h[4])}),_.each(function(){self=this,$(this).attr("data-tag-handle")==w&&$(self).addClass("active")}),s.on("click",function(){$(".digest-search__filter").hide(),$(".filter-results__wrap").show(),$(".digest-featured").hide(),o.addClass("active"),u.fadeIn(),l.hide(),v.hide(),$(document).on("mouseup",function(e){o.is(e.target)||0!==o.has(e.target).length||($(".digest-search__filter").show(),o.removeClass("active"),u.fadeOut(),$(".digest-search__filter").show(),$(".digest-featured").show(),$(this).unbind("mouseup"),l.show(),v.show())})}),p.on("keyup",function(){var i=$(this).val().toLowerCase(),a=!1;$(".filter-results__wrap").show(),u.each(function(){var e=$(this).find(".article-grid__item"),t=!1;e.each(function(){$(this).find("h3").text().toLowerCase().includes(i)?($(this).show(),a=t=!0):$(this).hide()}),t?$(this).show():$(this).hide()}),a?$(".js-no-results").hide():($(".js-no-results").text("Sorry - no results found for "+i),$(".js-no-results").show())}),d.on("click",function(e){$(this).hasClass("active")&&e.preventDefault()}),H(),(f=$(".product-card__item")).each(function(){Y(this)}),f.on("mouseenter",function(){$(this).find(".btn").addClass("active"),$(this).find(".product-card__product-options").addClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").removeClass("active"),$(this).find(".js-product-second-image").addClass("active"))}),f.on("mouseleave",function(){$(this).find(".btn").removeClass("active"),$(this).find(".product-card__product-options").removeClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").addClass("active"),$(this).find(".js-product-second-image").removeClass("active"))}),Q(),m=$(".product-template__left"),g=$(".js-product-template-qty-plus"),y=$(".js-product-template-qty-minus"),b=$(".js-product-template-qty-amount"),k=b.text(),g.on("click",function(){k++,b.text(k),$(".js-product-card-add-to-cart").attr("data-quantity",k)}),y.on("click",function(){1<k&&(k--,b.text(k),$(".js-product-card-add-to-cart").attr("data-quantity",k))}),Y(m),$(".about-science-based__item").each(function(){gsap.timeline({scrollTrigger:{trigger:this,start:"75% center",end:"90%"}}).to(this,{opacity:1}).set(this,{className:"about-science-based__item active"})}),(C=$(".accordian__accordian-item")).on("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):(C.each(function(){$(this).removeClass("active")}),$(this).addClass("active"))}),new Swiper(".about-people__inner",{slidesPerView:1.25,spaceBetween:10,navigation:{prevEl:".about-people__nav .slidePrev-btn",nextEl:".about-people__nav .slideNext-btn"},breakpoints:{700:{slidesPerView:1.95,spaceBetween:50},1100:{slidesPerView:3,spaceBetween:137}}}),x=$(".subscription-options__radio input"),P=$(".subscription-options__option"),j=$(".subscription-options__option select"),V=$(".js-product-card-add-to-cart"),B=$(".js-product-card-add-to-cart").attr("data-price"),q=$(".js-tooltip"),I=$(".subscription-options__tooltip"),q.on("mouseenter",function(){I.addClass("active"),$(document).mousemove(function(e){var t=e.pageX,e=e.pageY;I.css({top:"".concat(e-140,"px"),left:"".concat(t-205,"px")})})}),q.on("mouseleave",function(){I.removeClass("active")}),x.on("change",function(){var e;x.each(function(){$(this).prop("checked",!1),$(this).parent().removeClass("active")}),$(this).prop("checked",!0),$(this).parent().addClass("active"),"subscribe"==$(this).prop("value")?(P.css("display","flex"),V.attr("data-selling-plan-id",j.find(":selected").attr("data-selling-plan-id")),e=j.find(":selected").attr("data-discount"),e=B/100-B/100*(e/100),V.find("p").text("Add to Your Cart - £".concat(e))):(P.hide(),V.attr("data-selling-plan-id",""),V.find("p").text("Add to Your Cart - £".concat(B/100)))}),j.on("change",function(){V.attr("data-selling-plan-id",j.find(":selected").attr("data-selling-plan-id"))}),E=$(".page-template__left h2"),T=$(".accordian__accordian-item"),E.on("click",function(){var e=$(this).attr("data-topic");E.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),"General"!=e?T.each(function(){$(this).attr("data-topic")!=e?$(this).hide():$(this).show()}):T.each(function(){$(this).show()})}),new Swiper(".single-article__recipes-slider-inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".single-article__recipes-nav .slidePrev-btn",nextEl:".single-article__recipes-nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:2.5,spaceBetween:20},1500:{slidesPerView:3.5,spaceBetween:20},1700:{slidesPerView:3.5,spaceBetween:20}}}),n&&$(".js-visibility").each(function(e,t){i.observe(t)}),$(window).on("scroll",function(){}),$(window).on("load",function(){}),$(window).on("resize",O)});