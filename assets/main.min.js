"use strict";$(document).ready(function(){var a,e=$(window).width(),t=!1,i=$(".page-header"),n=!0;function c(t){return"Â£"+(Math.round(100*t)/100).toFixed(2)}function r(){$(document).height()>$(window).height()&&(($("html").scrollTop()?$("html"):$("body")).scrollTop(),$("html").addClass("disable-scrolling"))}function d(){parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling")}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(n=!1,$("html").removeClass("is-observer")),n&&(a=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),a.unobserve(t.target))})},{rootMargin:"0px 0px -15% 0px"})),function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return 1;var t=["(",t.join("touch-enabled),("),"heartz",")"].join("");return t=t,window.matchMedia(t).matches}()&&$("html").addClass("is-touch");var s,o,l,p,u,h,f,_,v,w,m,g,y,b,C,k,x,j,P,V,B,q,I,E,T,O,S,D=function(a,i,n){for(var s,t=arguments.length,o=new Array(3<t?t-3:0),e=3;e<t;e++)o[e-3]=arguments[e];return function(){var t=this,e=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||a.apply(t,o)},i),e&&a.apply(t,o)}}(function(){var t=$(window).width();L(),N(),Y(),A(),H(),X(),M(),e!==t&&(e=t)},500);function L(){var t=$(".header__hamburger"),e=$(".fly-out-nav"),a=$(".fly-out-nav__close"),i=$(".fly-out-nav__collections a"),n=$(".fly-out-collection"),s=($(".js-header-product-image"),$(".fly-out-collection__items a")),o=$(".fly-out-collection__back");t.on("click",function(){e.addClass("active"),r()}),a.on("click",function(){e.removeClass("active"),n.each(function(){$(this).removeClass("active")}),d()}),i.on("mouseenter",function(){var t=$(this).attr("data-collection");n.each(function(){$(this).attr("data-collection")==t?$(this).addClass("active"):$(this).removeClass("active")})}),s.on("mouseenter",function(){var t=$(this).find("img").attr("src");$(this).parent().parent().find(".js-header-product-image").attr("src",t)}),o.on("click",function(){n.each(function(){$(this).removeClass("active")})})}function N(){new Swiper(".home-featured-product__inner",{slidesPerView:1.25,speed:400,spaceBetween:7,navigation:{prevEl:".home-featured-product__nav .slidePrev-btn",nextEl:".home-featured-product__nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.45,spaceBetween:7},600:{slidesPerView:1.75,spaceBetween:7},800:{slidesPerView:1.25,spaceBetween:70},1100:{slidesPerView:2.25,spaceBetween:70},1300:{slidesPerView:2.5,spaceBetween:70},1500:{slidesPerView:2.75,spaceBetween:70},1700:{slidesPerView:3.1,spaceBetween:70}}})}function M(){var t=$(".home-hero__right"),e=$(".home-hero__left").outerHeight()+60;$(window).width()<768&&t.css("height","calc(100vh - ".concat(e,"px)"))}function Y(){var t=$(".scrolling-animation"),e=1280<=$(window).width()?"0% 35%":"-20px 0%";gsap.timeline({scrollTrigger:{trigger:t,start:e,end:"450% 0%",pin:!0,scrub:!0}}).to(".scrolling-animation__copy-one",{opacity:0},1).to(".scrolling-animation__image-one",{opacity:0},1).to(".scrolling-animation__image-two",{opacity:1},1).to(".scrolling-animation__copy-two",{opacity:1},1).to(".scrolling-animation__num-one",{backgroundColor:"#fff"},1).to(".scrolling-animation__num-two",{backgroundColor:"#00e132"},1).to(".scrolling-animation__image-two",{opacity:0},2).to(".scrolling-animation__copy-two",{opacity:0},2).to(".scrolling-animation__image-three",{opacity:1},2).to(".scrolling-animation__copy-three",{opacity:1},2).to(".scrolling-animation__num-two",{backgroundColor:"#fff"},2).to(".scrolling-animation__num-three",{backgroundColor:"#00e132"},2).to(".scrolling-animation__image-three",{opacity:0},3).to(".scrolling-animation__copy-three",{opacity:0},3).to(".scrolling-animation__image-four",{opacity:1},3).to(".scrolling-animation__copy-four",{opacity:1},3).to(".scrolling-animation__num-three",{backgroundColor:"#fff"},3).to(".scrolling-animation__num-four",{backgroundColor:"#00e132"},3)}function A(){var t=$(window).width(),t=($(".scrolling-ticker"),1024<=t?6:3);new Swiper(".scrolling-ticker",{loop:!0,autoplay:{delay:1,disableOnInteraction:!1},simulateTouch:!1,slidesPerView:t,speed:4e3})}function H(){var t=1024<=$(window).width()?2:1;new Swiper(".home-reviews",{slidesPerView:t,loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{prevEl:".home-reviews__nav .slidePrev-btn",nextEl:".home-reviews__nav .slideNext-btn"}})}function X(){$(".featured-blogs__slider").each(function(t){new Swiper("#featured-blogs__slider-"+(t+1),{slidesPerView:1.2,spaceBetween:27,breakpoints:{400:{slidesPerView:1.2},800:{slidesPerView:1.5},1100:{slidesPerView:2}},navigation:{prevEl:"#featured-blogs__prev-"+(t+1),nextEl:"#featured-blogs__next-"+(t+1)}})})}function z(t){var e=$(t).find(".js-product-varient-select"),a=$(t).find(".js-variant"),o="",r=$(t).find(".js-product-card-add-to-cart");function i(){o="";var s=!1;console.log("updating vars?"),e.length&&(e.each(function(){var t=$("option:selected",this).val();o+=t;var e=$("option:selected",this).attr("data-color"),a=$("option:selected",this).val().length,t=$(this).parent().find(".product-card__product-options-colour");e?($(t).show(),$(t).css("background-color",e),$(t).css({"background-color":e,left:"".concat(12*a,"px")})):$(t).hide()}),a.each(function(){var t,e,a,i,n;$(this).attr("data-title").replace(/\s+|[\/]/g,"")==o.replace(/\s+|[\/]/g,"")&&((e=r.attr("data-quantity"))?(""==r.attr("data-discounted-price")?(a=c($(this).attr("data-price")/100*e),console.log("no sub data")):(console.log("sub data"),r.attr("data-price",$(this).attr("data-price")),t=r.attr("data-discount"),a=c((e=r.attr("data-price")*e)/100-e/100*(t/100))),console.log(a)):a=c($(this).attr("data-price")/100*1),r.attr("disabled",!1),r.attr("data-variant-id",$(this).attr("data-id")),r.attr("data-price",$(this).attr("data-price")),r.find("p").text("Add to Your Cart - "+a),i=$(this).attr("data-image"),s=!0,$(".product-template__right").length&&(n=new Swiper(".product-template__right",{slidesPerView:1.25,spaceBetween:19,navigation:{prevEl:".product-template__slider-arrows .slidePrev-btn",nextEl:".product-template__slider-arrows .slideNext-btn"},breakpoints:{600:{slidesPerView:2.25,spaceBetween:20},900:{slidesPerView:1.1,spaceBetween:20},1200:{slidesPerView:1.65,spaceBetween:25},1700:{slidesPerView:2.9,spaceBetween:25}}}),$(".swiper-slide").each(function(t){i==$(this).find("img").attr("src")&&n.slideTo(t)})))}),s||(r.find("p").text("Sorry - Out of Stock"),r.attr("disabled",!0)))}i(),e.on("change",function(){console.log("selects changed"),i()}),r.on("click",function(){var t=$(this).attr("data-variant-id"),e=$(this).attr("data-selling-plan-id"),a=$(this).attr("data-quantity")?$(this).attr("data-quantity"):1;t=t,a=a,e=e,$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:{items:[{id:t,quantity:a,selling_plan:e}]},success:R,error:Q}),$(".loader").fadeIn()})}function F(t,e){$.ajax({type:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},url:"/cart/change.js",dataType:"json",data:{id:t,quantity:e},success:R,error:Q})}function R(){$(".cart-drawer").addClass("active"),G()}function Q(){console.log(" not okay!"),$(".loader").fadeOut(),$(".toast").addClass("active"),setTimeout(function(){$(".toast").removeClass("active")},3e3)}function G(){$(".cart-drawer__header svg").on("click",function(){$(".cart-drawer").removeClass("active")}),jQuery.getJSON("/cart.js",function(t){!function(t){t.items.length?($(".cart-drawer__items").empty(),$(".cart-drawer__checkout").show(),$(t.items).each(function(){$(".cart-drawer__items").append('\n            <div class="cart-drawer__item">\n              <div class="cart-drawer__item-left">\n                <a href="'.concat(this.url,'">\n                  <img src="').concat(this.image,'" alt="">\n                </a>\n                <p class="body-small js-cart-drawer__remove" data-variant-id="').concat(this.variant_id,'">Remove</p>\n              </div>\n              <div class="cart-drawer__item-right">\n                <h3 class="body-bold">').concat(this.product_title,'</h3>\n                <h4 class="body-small">').concat(c(this.final_price/100),"</h4>")+(this.variant_options[0]?'<h5 class="body-small">'.concat(this.variant_options[0],"</h5>"):"")+(this.variant_options[1]?'<h5 class="body-small">'.concat(this.variant_options[1],"</h5>"):"")+(this.variant_options[2]?'<h5 class="body-small">'.concat(this.variant_options[2],"</h5>"):"")+(this.selling_plan_allocation?'\n                <div style="display: flex; " >\n                  <svg style="margin-right: 10px; margin-top: 3px" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <g opacity="0.5">\n                    <path d="M17.0004 2.17969V6.54332H12.6367" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M1 13.816V9.45239H5.36364" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M2.82545 5.81577C3.1943 4.77343 3.82119 3.84152 4.64761 3.10699C5.47404 2.37245 6.47307 1.85924 7.55148 1.61523C8.6299 1.37123 9.75255 1.40438 10.8147 1.71161C11.8768 2.01883 12.8438 2.59011 13.6255 3.37214L17 6.54305M1 9.45214L4.37455 12.623C5.15618 13.4051 6.12318 13.9764 7.18532 14.2836C8.24745 14.5908 9.3701 14.624 10.4485 14.3799C11.5269 14.1359 12.526 13.6227 13.3524 12.8882C14.1788 12.1537 14.8057 11.2217 15.1745 10.1794" stroke="#07272D" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>\n                    </g>\n                  </svg>                 \n                  <h5 class="body-small">'.concat(this.selling_plan_allocation.selling_plan.name,"</h5>\n                </div>\n                "):"")+'<div class="cart-drawer__qty-selector-wrap">\n                  <div class="cart-drawer__qty-selector-copy">\n                    <p class="body-small">Qty.</p>\n                  </div>\n                  <div class="cart-drawer__qty-selector">\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-minus" data-variant-id="'.concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="2" viewBox="0 0 14 2" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="1" x2="13" y2="0.999999" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                    <p>').concat(this.quantity,'</p>\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-plus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="7" x2="13" y2="7" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                        <line x1="7" y1="1" x2="7" y2="13" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>     \n            '))})):($(".cart-drawer__checkout").hide(),$(".cart-drawer__items").empty(),$(".cart-drawer__items").append('<p class="body-bold" style="margin-top: 20px">Nothing in your bag</p>')),$(".loader").fadeOut();t.item_count?$(".header__cart-total").each(function(){$(this).text(t.item_count)}):$(".header__cart-total").each(function(){$(this).text("")});$(".js-cart-drawer-total").text(c(t.total_price/100));var e=$(".js-cart-drawer__qty-minus"),a=$(".js-cart-drawer__qty-plus"),i=$(".js-cart-drawer__remove");e.on("click",function(){F(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))-1),$(".loader").fadeIn()}),a.on("click",function(){F(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))+1),$(".loader").fadeIn()}),i.on("click",function(){F(parseInt($(this).attr("data-variant-id")),0),$(".loader").fadeIn()})}(t)})}$(".hamburger").on("click",function(){t?(i.removeClass("is-opened"),d()):(i.addClass("is-opened"),r()),t=!t}),document.body.addEventListener("mousedown",function(){document.body.classList.remove("is-tab")}),document.body.addEventListener("keydown",function(t){"Tab"===t.key&&document.body.classList.add("is-tab")}),L(),N(),Y(),M(),A(),H(),new Swiper(".featured-blog__inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".featured-blog .slidePrev-btn",nextEl:".featured-blog .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:1.7,spaceBetween:90},1500:{slidesPerView:1.7,spaceBetween:90},1700:{slidesPerView:2,spaceBetween:90}}}),function(){var a=$(".header"),t=$(".js-open-cart"),e=$(".header__right-search-icon"),i=$(".header__right-search-input");e.on("mouseenter",function(){console.log("entered"),i.addClass("active")}),e.on("click",function(t){""==i.val()&&t.preventDefault()}),e.on("mouseleave",function(){console.log("entered"),i.removeClass("active")}),t.on("click",function(){$(".cart-drawer").addClass("active")});var n=0;$(window).scroll(function(t){var e=$(this).scrollTop();n<e?$(a).css("transform","translate(0px, -120px)"):$(a).css("transform","translate(0px, 0px)"),(n=e)<100&&$(a).css("transform","translate(0px, 0px)")})}(),function(){var t=$(".footer__column-menu-header"),e=$(".footer__column ul"),a=$(".footer-banner svg");t.on("click",function(){$(this).parent().find("ul").hasClass("active")?$(this).parent().find("ul").removeClass("active"):(e.each(function(){$(this).removeClass("active")}),$(this).parent().find("ul").addClass("active"))}),a.on("click",function(){$(this).parent().hide()});var i=$(".footer-banner--animation p"),n=i.length,s=0;i.eq(0).fadeIn(),setInterval(function(){n<=s&&i.eq(s-1).fadeOut(function(){s=0,i.eq(s).fadeIn()});i.eq(s-1).fadeOut(function(){i.eq(s).fadeIn(),s++})},4e3)}(),s=$(".digest-search__search svg"),o=$(".digest-search__search"),l=$(".digest-search__filter-item"),p=$(".filter-results"),u=$(".digest-search__search input"),$(".article-grid__item"),h=$(".search-results"),f=$(location).attr("href").split("/"),_=f[f.length-1],v=$(".digest-filter__filters-wrap a"),w=$(".digest-filter"),_.includes("?")&&(_=_.split("?")[0]),v.on("click",function(t){$(this).hasClass("active")&&(t.preventDefault(),window.location.href=f[0]+"//"+f[2]+"/"+f[3]+"/"+f[4])}),v.each(function(){self=this,$(this).attr("data-tag-handle")==_&&$(self).addClass("active")}),s.on("click",function(){$(".digest-search__filter").hide(),$(".filter-results__wrap").show(),$(".digest-featured").hide(),o.addClass("active"),h.fadeIn(),p.hide(),w.hide(),$(document).on("mouseup",function(t){o.is(t.target)||0!==o.has(t.target).length||($(".digest-search__filter").show(),o.removeClass("active"),h.fadeOut(),$(".digest-search__filter").show(),$(".digest-featured").show(),$(this).unbind("mouseup"),p.show(),w.show())})}),u.on("keyup",function(){var a=$(this).val().toLowerCase(),i=!1;$(".filter-results__wrap").show(),h.each(function(){var t=$(this).find(".article-grid__item"),e=!1;t.each(function(){$(this).find("h3").text().toLowerCase().includes(a)?($(this).show(),i=e=!0):$(this).hide()}),e?$(this).show():$(this).hide()}),i?$(".js-no-results").hide():($(".js-no-results").text("Sorry - no results found for "+a),$(".js-no-results").show())}),l.on("click",function(t){$(this).hasClass("active")&&t.preventDefault()}),X(),(m=$(".product-card__item")).each(function(){z(this)}),m.on("mouseenter",function(){$(this).find(".btn").addClass("active"),$(this).find(".product-card__product-options").addClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").removeClass("active"),$(this).find(".js-product-second-image").addClass("active"))}),m.on("mouseleave",function(){$(this).find(".btn").removeClass("active"),$(this).find(".product-card__product-options").removeClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").addClass("active"),$(this).find(".js-product-second-image").removeClass("active"))}),G(),g=$(".product-template__left"),y=$(".js-product-template-qty-plus"),b=$(".js-product-template-qty-minus"),$(".js-product-template-qty-amount"),C=$(".sticky-product-bar__inner"),k=1,y.on("click",function(){console.log("clicked");var t,e=$(".js-product-card-add-to-cart").first(),a=$(".js-product-template-qty-amount").first();k++,a.text(k),e.attr("data-quantity",k),t=""==!e.attr("data-discounted-price")?(e.attr("data-price",$(this).attr("data-price")),t=e.attr("data-discount"),(a=e.attr("data-price")*k)/100-a/100*(t/100)):parseFloat(e.attr("data-price")*k/100),e.find("p").text("Add to Your Cart - ".concat(c(t)))}),b.on("click",function(){var t,e=$(".js-product-card-add-to-cart").first(),a=$(".js-product-template-qty-amount").first();1<k&&(k--,a.text(k),e.attr("data-quantity",k),t=""==!e.attr("data-discounted-price")?(e.attr("data-price",$(this).attr("data-price")),t=e.attr("data-discount"),(a=e.attr("data-price")*k)/100-a/100*(t/100)):parseFloat(e.attr("data-price")*k/100),e.find("p").text("Add to Your Cart - ".concat(c(t))))}),z(g),z(C),$(".about-science-based__item").each(function(){gsap.timeline({scrollTrigger:{trigger:this,start:"75% 65%",end:"90%"}}).to(this,{opacity:1}).set(this,{className:"about-science-based__item active"})}),(x=$(".accordian__accordian-item")).on("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):(x.each(function(){$(this).removeClass("active")}),$(this).addClass("active"))}),new Swiper(".about-people__inner",{slidesPerView:1.25,spaceBetween:10,navigation:{prevEl:".about-people__nav .slidePrev-btn",nextEl:".about-people__nav .slideNext-btn"},breakpoints:{700:{slidesPerView:1.95,spaceBetween:50},1100:{slidesPerView:3,spaceBetween:137}}}),j=$(".subscription-options__radio input"),P=$(".subscription-options__option"),V=$(".subscription-options__option select"),B=$(".js-product-card-add-to-cart"),q=$(".js-tooltip"),I=$(".subscription-options__tooltip"),$(".js-product-card-add-to-cart").attr("data-price"),1024<$(window).width()&&(q.on("mouseenter",function(){I.addClass("active"),$(document).mousemove(function(t){var e=t.pageX,t=t.pageY;I.css({top:"".concat(t-140,"px"),left:"".concat(e-205,"px")})})}),q.on("mouseleave",function(){I.removeClass("active")})),j.on("change",function(){var t,e,a=$(".js-product-card-add-to-cart").attr("data-price");j.each(function(){$(this).prop("checked",!1),$(this).parent().removeClass("active")}),$(this).prop("checked",!0),$(this).parent().addClass("active"),"subscribe"==$(this).prop("value")?(P.css("display","flex"),B.first().attr("data-selling-plan-id",V.find(":selected").attr("data-selling-plan-id")),e=a/100-a/100*((t=V.find(":selected").attr("data-discount"))/100),B.first().find("p").text("Add to Your Cart - ".concat(c(e))),B.first().attr("data-discount",t),B.first().attr("data-discounted-price",100*e)):(P.hide(),B.attr("data-selling-plan-id",""),B.first().attr("data-discounted-price",""),B.first().attr("data-discount",""),B.find("p").text("Add to Your Cart - ".concat(c(a/100))))}),V.on("change",function(){$(".js-product-card-add-to-cart--subscription").attr("data-selling-plan-id",V.find(":selected").attr("data-selling-plan-id"))}),E=$(".page-template__left h2"),T=$(".accordian__accordian-item"),E.on("click",function(){var t=$(this).attr("data-topic");E.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),"General"!=t?T.each(function(){$(this).attr("data-topic")!=t?$(this).hide():$(this).show()}):T.each(function(){$(this).show()})}),new Swiper(".single-article__recipes-slider-inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".single-article__recipes-nav .slidePrev-btn",nextEl:".single-article__recipes-nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:2.5,spaceBetween:20},1500:{slidesPerView:3.5,spaceBetween:20},1700:{slidesPerView:3.5,spaceBetween:20}}}),(S=$(".sticky-product-bar")).length&&(O=$(".sticky-product-bar").offset().top,$(window).scroll(function(t){var e=$(this).scrollTop();O<e?S.addClass("active"):S.removeClass("active")})),setTimeout(function(){var i,n,t=$(".product-ingredients__item");$(".product-ingredients__grid").length&&(i=$(".product-ingredients__grid").offset().top,n=$(window).width()<768?100:$(window).width()<1024?200:305,t.on("mouseenter",function(){$(this).find(".product-ingredients__item-hidden").addClass("active"),$(this).addClass("active");var a=this;$(document).mousemove(function(t){var e=t.pageX,t=t.pageY;$(a).find(".product-ingredients__item-hidden").css({top:"".concat(t+20-i,"px"),left:"".concat(e-n,"px")})})}),t.on("mouseleave",function(){$(this).removeClass("active"),$(this).find(".product-ingredients__item-hidden").removeClass("active")}))},2e3),n&&$(".js-visibility").each(function(t,e){a.observe(e)}),$(window).on("scroll",function(){}),$(window).on("load",function(){}),$(window).on("resize",D)});