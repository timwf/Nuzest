"use strict";$(document).ready(function(){var a,e=$(window).width(),t=!1,i=$(".page-header"),n=!0;function r(){$(document).height()>$(window).height()&&(($("html").scrollTop()?$("html"):$("body")).scrollTop(),$("html").addClass("disable-scrolling"))}function c(){parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling")}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(n=!1,$("html").removeClass("is-observer")),n&&(a=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),a.unobserve(t.target))})},{rootMargin:"0px 0px -15% 0px"})),function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return 1;var t=["(",t.join("touch-enabled),("),"heartz",")"].join("");return t=t,window.matchMedia(t).matches}()&&$("html").addClass("is-touch");var s,o,d,l,u,h,p,f,_,v,w,m,g,y,b=function(a,i,n){for(var s,t=arguments.length,o=new Array(3<t?t-3:0),e=3;e<t;e++)o[e-3]=arguments[e];return function(){var t=this,e=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||a.apply(t,o)},i),e&&a.apply(t,o)}}(function(){var t=$(window).width();C(),k(),j(),q(),P(),I(),x(),e!==t&&(e=t)},500);function C(){var t=$(".header__hamburger"),e=$(".fly-out-nav"),a=$(".fly-out-nav__close"),i=$(".fly-out-nav__collections a"),n=$(".fly-out-collection"),s=($(".js-header-product-image"),$(".fly-out-collection__items a")),o=$(".fly-out-collection__back");t.on("click",function(){e.addClass("active"),r()}),a.on("click",function(){e.removeClass("active"),n.each(function(){$(this).removeClass("active")}),c()}),i.on("mouseenter",function(){var t=$(this).attr("data-collection");n.each(function(){$(this).attr("data-collection")==t?$(this).addClass("active"):$(this).removeClass("active")})}),s.on("mouseenter",function(){var t=$(this).find("img").attr("src");$(this).parent().parent().find(".js-header-product-image").attr("src",t)}),o.on("click",function(){n.each(function(){$(this).removeClass("active")})})}function k(){new Swiper(".home-featured-product__inner",{slidesPerView:1.25,speed:400,spaceBetween:7,navigation:{prevEl:".home-featured-product__nav .slidePrev-btn",nextEl:".home-featured-product__nav .slideNext-btn"},breakpoints:{400:{slidesPerView:1.45,spaceBetween:7},600:{slidesPerView:1.75,spaceBetween:7},800:{slidesPerView:1.25,spaceBetween:70},1100:{slidesPerView:2.25,spaceBetween:70},1300:{slidesPerView:2.5,spaceBetween:70},1500:{slidesPerView:2.75,spaceBetween:70},1700:{slidesPerView:3.1,spaceBetween:70}}})}function x(){var t=$(".home-hero__right"),e=$(".home-hero__left").outerHeight()+60;$(window).width()<768&&t.css("height","calc(100vh - ".concat(e,"px)"))}function j(){var t=$(".scrolling-animation"),e=1280<=$(window).width()?"0% 35%":"-20px 0%";gsap.timeline({scrollTrigger:{trigger:t,start:e,end:"450% 0%",pin:!0,scrub:!0}}).to(".scrolling-animation__copy-one",{opacity:0},1).to(".scrolling-animation__image-one",{opacity:0},1).to(".scrolling-animation__image-two",{opacity:1},1).to(".scrolling-animation__copy-two",{opacity:1},1).to(".scrolling-animation__num-one",{backgroundColor:"#fff"},1).to(".scrolling-animation__num-two",{backgroundColor:"#00e132"},1).to(".scrolling-animation__image-two",{opacity:0},2).to(".scrolling-animation__copy-two",{opacity:0},2).to(".scrolling-animation__image-three",{opacity:1},2).to(".scrolling-animation__copy-three",{opacity:1},2).to(".scrolling-animation__num-two",{backgroundColor:"#fff"},2).to(".scrolling-animation__num-three",{backgroundColor:"#00e132"},2).to(".scrolling-animation__image-three",{opacity:0},3).to(".scrolling-animation__copy-three",{opacity:0},3).to(".scrolling-animation__image-four",{opacity:1},3).to(".scrolling-animation__copy-four",{opacity:1},3).to(".scrolling-animation__num-three",{backgroundColor:"#fff"},3).to(".scrolling-animation__num-four",{backgroundColor:"#00e132"},3)}function q(){var t=$(window).width(),t=($(".scrolling-ticker"),1024<=t?6:3);new Swiper(".scrolling-ticker",{loop:!0,autoplay:{delay:1,disableOnInteraction:!1},simulateTouch:!1,slidesPerView:t,speed:4e3})}function P(){var t=1024<=$(window).width()?2:1;new Swiper(".home-reviews",{slidesPerView:t,loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{prevEl:".home-reviews__nav .slidePrev-btn",nextEl:".home-reviews__nav .slideNext-btn"}})}function I(){$(".featured-blogs__slider").each(function(t){new Swiper("#featured-blogs__slider-"+(t+1),{slidesPerView:1.2,spaceBetween:27,breakpoints:{400:{slidesPerView:1.2},800:{slidesPerView:1.5},1100:{slidesPerView:2}},navigation:{prevEl:"#featured-blogs__prev-"+(t+1),nextEl:"#featured-blogs__next-"+(t+1)}})})}function V(t){var e=$(t).find(".js-product-varient-select"),a=$(t).find(".js-variant"),i="",n=$(t).find(".js-product-card-add-to-cart");function s(){i="";var t=!1;console.log("updating vars?"),e.length&&(e.each(function(){var t=$("option:selected",this).val();i+=t}),a.each(function(){var e,a;$(this).attr("data-title").replace(/\s+|[\/]/g,"")==i.replace(/\s+|[\/]/g,"")&&(n.attr("disabled",!1),n.attr("data-variant-id",$(this).attr("data-id")),n.find("p").text("Add to Your Cart - "+$(this).attr("data-price")),e=$(this).attr("data-image"),t=!0,$(".product-template__right").length&&(a=new Swiper(".product-template__right",{slidesPerView:1.65,spaceBetween:70,navigation:{prevEl:".product-template__slider-arrows .slidePrev-btn",nextEl:".product-template__slider-arrows .slideNext-btn"},breakpoints:{1700:{slidesPerView:2.55,spaceBetween:70}}}),$(".swiper-slide").each(function(t){e==$(this).find("img").attr("src")&&a.slideTo(t)})))}),t||(n.find("p").text("Sorry - Out of Stock"),n.attr("disabled",!0)))}s(),e.on("change",function(){s()}),n.on("click",function(){var t=$(this).attr("data-variant-id"),e=$(this).attr("data-quantity")?$(this).attr("data-quantity"):1;t=t,e=e,$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:{items:[{id:t,quantity:e}]},success:T,error:S}),$(".loader").fadeIn()})}function B(t,e){$.ajax({type:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},url:"/cart/change.js",dataType:"json",data:{id:t,quantity:e},success:T,error:S})}function T(){$(".cart-drawer").addClass("active"),O()}function S(){console.log(" not okay!"),$(".loader").fadeOut(),$(".toast").addClass("active"),setTimeout(function(){$(".toast").removeClass("active")},3e3)}function O(){$(".cart-drawer__header svg").on("click",function(){$(".cart-drawer").removeClass("active")}),jQuery.getJSON("/cart.js",function(t){!function(t){t.items.length?($(".cart-drawer__items").empty(),$(".cart-drawer__checkout").show(),$(t.items).each(function(){$(".cart-drawer__items").append('\n            <div class="cart-drawer__item">\n              <div class="cart-drawer__item-left">\n                <a href="'.concat(this.url,'">\n                  <img src="').concat(this.image,'" alt="">\n                </a>\n                <p class="body-small js-cart-drawer__remove" data-variant-id="').concat(this.variant_id,'">Remove</p>\n              </div>\n              <div class="cart-drawer__item-right">\n                <h3 class="body-bold">').concat(this.product_title,'</h3>\n                <h4 class="body-small">£').concat(this.final_price/100,'</h4>\n                <h5 class="body-small">').concat(this.variant_options[0],'</h5>\n                <h5 class="body-small">').concat(this.variant_options[1],'</h5>\n                <div class="cart-drawer__qty-selector-wrap">\n                  <div class="cart-drawer__qty-selector-copy">\n                    <p class="body-small">Qty.</p>\n                  </div>\n                  <div class="cart-drawer__qty-selector">\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-minus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="2" viewBox="0 0 14 2" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="1" x2="13" y2="0.999999" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                    <p>').concat(this.quantity,'</p>\n                    <div class="cart-drawer__qty-selector-btn js-cart-drawer__qty-plus" data-variant-id="').concat(this.variant_id,'" data-qty="').concat(this.quantity,'">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <line x1="1" y1="7" x2="13" y2="7" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                        <line x1="7" y1="1" x2="7" y2="13" stroke="#07272D" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>     \n            '))})):($(".cart-drawer__checkout").hide(),$(".cart-drawer__items").empty(),$(".cart-drawer__items").append('<p class="body-bold" style="margin-top: 20px">Nothing in your bag</p>')),$(".loader").fadeOut();t.item_count?$(".header__cart-total").each(function(){$(this).text(t.item_count)}):$(".header__cart-total").each(function(){$(this).text("")});$(".js-cart-drawer-total").text("£"+t.total_price/100);var e=$(".js-cart-drawer__qty-minus"),a=$(".js-cart-drawer__qty-plus"),i=$(".js-cart-drawer__remove");e.on("click",function(){B(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))-1),$(".loader").fadeIn()}),a.on("click",function(){B(parseInt($(this).attr("data-variant-id")),parseInt($(this).attr("data-qty"))+1),$(".loader").fadeIn()}),i.on("click",function(){B(parseInt($(this).attr("data-variant-id")),0),$(".loader").fadeIn()})}(t)})}function E(e){$(".filter-results__wrap").show(),$(".digest-featured").hide(),l.each(function(){$(this).attr("data-handle")==e&&$(this).addClass("active")}),u.each(function(){var t;$(this).attr("data-handle")==e?(t=this,setTimeout(function(){$(t).fadeIn()},500)):$(this).fadeOut()})}$(".hamburger").on("click",function(){t?(i.removeClass("is-opened"),c()):(i.addClass("is-opened"),r()),t=!t}),document.body.addEventListener("mousedown",function(){document.body.classList.remove("is-tab")}),document.body.addEventListener("keydown",function(t){"Tab"===t.key&&document.body.classList.add("is-tab")}),C(),k(),j(),x(),q(),P(),new Swiper(".featured-blog__inner",{slidesPerView:1.25,speed:400,spaceBetween:27,navigation:{prevEl:".featured-blog .slidePrev-btn",nextEl:".featured-blog .slideNext-btn"},breakpoints:{400:{slidesPerView:1.1,spaceBetween:27},600:{slidesPerView:1,spaceBetween:10},800:{slidesPerView:1.2,spaceBetween:27},1100:{slidesPerView:1.7,spaceBetween:90},1300:{slidesPerView:1.7,spaceBetween:90},1500:{slidesPerView:1.7,spaceBetween:90},1700:{slidesPerView:2,spaceBetween:90}}}),function(){var a=$(".header");$(".js-open-cart").on("click",function(){$(".cart-drawer").addClass("active")});var i=0;$(window).scroll(function(t){var e=$(this).scrollTop();i<e?$(a).css("transform","translate(0px, -120px)"):$(a).css("transform","translate(0px, 0px)"),(i=e)<100&&$(a).css("transform","translate(0px, 0px)")})}(),function(){var t=$(".footer__column-menu-header"),e=$(".footer__column ul"),a=$(".footer-banner svg");t.on("click",function(){$(this).parent().find("ul").hasClass("active")?$(this).parent().find("ul").removeClass("active"):(e.each(function(){$(this).removeClass("active")}),$(this).parent().find("ul").addClass("active"))}),a.on("click",function(){$(this).parent().hide()});var i=$(".footer-banner--animation p"),n=i.length,s=0;i.eq(0).fadeIn(),setInterval(function(){n<=s&&i.eq(s-1).fadeOut(function(){s=0,i.eq(s).fadeIn()});i.eq(s-1).fadeOut(function(){i.eq(s).fadeIn(),s++})},4e3)}(),o=$(".digest-search__search svg"),d=$(".digest-search__search"),l=$(".digest-search__filter-item"),u=$(".filter-results"),h=$(".digest-search__search input"),$(".article-grid__item"),p=$(".search-results"),o.on("click",function(){$(".digest-search__filter").hide(),$(".filter-results__wrap").show(),$(".digest-featured").hide(),d.addClass("active"),u.each(function(){$(this).fadeOut()}),p.fadeIn(),l.each(function(){$(this).removeClass("active")}),$(document).on("mouseup",function(t){d.is(t.target)||0!==d.has(t.target).length||($(".digest-search__filter").show(),d.removeClass("active"),p.fadeOut(),$(".filter-results__wrap").hide(),$(".digest-featured").show(),$(this).unbind("mouseup"))})}),h.on("keyup",function(){var a=$(this).val().toLowerCase(),i=!1;$(".filter-results__wrap").show(),p.each(function(){var t=$(this).find(".article-grid__item"),e=!1;t.each(function(){$(this).find("h3").text().toLowerCase().includes(a)?($(this).show(),i=e=!0):$(this).hide()}),e?$(this).show():$(this).hide()}),i?$(".js-no-results").hide():($(".js-no-results").text("Sorry - no results found for "+a),$(".js-no-results").show())}),$(location).attr("href").toString().includes("page=")?(h=localStorage.getItem("blogtype"),s=$(location).attr("href").split("?")[0],$(".digest-featured").hide(),E(h),l.on("click",function(){window.location.href=s})):localStorage.setItem("blogtype",""),localStorage.getItem("blogtype")&&E(localStorage.getItem("blogtype")),l.on("click",function(){var e;localStorage.setItem("blogtype",$(this).attr("data-handle")),$(this).hasClass("active")?($(this).removeClass("active"),u.each(function(){$(this).hide()}),$(".filter-results__wrap").hide(),$(".digest-featured").show()):(l.each(function(){$(this).removeClass("active")}),$(this).addClass("active"),e=$(this).attr("data-handle"),$(".filter-results__wrap").show(),$(".digest-featured").hide(),u.each(function(){var t;$(this).attr("data-handle")==e?(t=this,setTimeout(function(){$(t).fadeIn()},500)):$(this).fadeOut()}))}),I(),(f=$(".product-card__item")).each(function(){V(this)}),f.on("mouseenter",function(){$(this).find(".btn").addClass("active"),$(this).find(".product-card__product-options").addClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").removeClass("active"),$(this).find(".js-product-second-image").addClass("active"))}),f.on("mouseleave",function(){$(this).find(".btn").removeClass("active"),$(this).find(".product-card__product-options").removeClass("active"),$(this).find(".js-product-second-image").length&&($(this).find(".js-product-first-image").addClass("active"),$(this).find(".js-product-second-image").removeClass("active"))}),O(),_=$(".product-template__left"),v=$(".js-product-template-qty-plus"),w=$(".js-product-template-qty-minus"),m=$(".js-product-template-qty-amount"),g=m.text(),v.on("click",function(){g++,m.text(g),$(".js-product-card-add-to-cart").attr("data-quantity",g)}),w.on("click",function(){1<g&&(g--,m.text(g),$(".js-product-card-add-to-cart").attr("data-quantity",g))}),V(_),$(".about-science-based__item").each(function(){gsap.timeline({scrollTrigger:{trigger:this,start:"75% center",end:"90%"}}).to(this,{opacity:1}).set(this,{className:"about-science-based__item active"})}),(y=$(".about-environment__accordian-item")).on("click",function(){$(this).hasClass("active")?$(this).removeClass("active"):(y.each(function(){$(this).removeClass("active")}),$(this).addClass("active"))}),n&&$(".js-visibility").each(function(t,e){a.observe(e)}),$(window).on("scroll",function(){}),$(window).on("load",function(){}),$(window).on("resize",b)});